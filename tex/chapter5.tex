\documentclass[../main/document.tex]{subfiles}

\begin{document}
\section{Полугруппы и моноиды}
\begin{dfn}
Полугруппа - многообразие заданное множеством
$$(x*y)*z=x*(y*z)$$
\end{dfn}
\begin{exm}
Примеры полугрупп:
\end{exm}
\begin{thm}
Значение терма не зависит от расстановки скобок (Ассоциативный закон)
$$t=t_1*t_2=(a_{1}a_{2}...a_{m})(a_{m+1}...a_n)=a_{1}a_{2}...a_{n}$$
\begin{proof}
Индукция по длине $t$

Базис: $n=1$, нет скобок

Шаг: для $n-1$ верно, тогда
\begin{enumerate}
\item $m=n-1$
$$t=t_1*a_n=(a_{1}a_{2}...a_{m})*a_n=a_{1}a_{2}...a_{n}$$
\item $1\leq m\leq n-1$
\begin{multline*}
t=t_1*t_2=(a_{1}a_{2}...a_{m})(a_{m+1}...a_n)=(a_{1}a_{2}...a_{m})(a_{m+1}...a_{n-1})a_n=\\
(a_{1}a_{2}...a_{n-1})a_n=a_{1}a_{2}...a_{n}
\end{multline*}
\end{enumerate}
\end{proof}
\end{thm}
\begin{dfn}
$e_l$ называется \textbf{нейтральным слева} в полугруппе, если $e_l*a=a$ для всех $a$,
$e_r$ называется \textbf{нейтральным справа} в полугруппе, если $a*e_r=a$ для всех $a$,
$e$ - нейтральный слева и справа
\end{dfn}
\begin{exm}
Примеры нейтрального элемента:

$(\omega,+)$ - $0$, $(\omega,\cdot)$ - $1$, $(\omega,max)$ - $0$, $(\omega,min)$ - нет нейтрального
\end{exm}
\begin{thm}
Если существуют нейтральный слева и нейтральный справа то они равны
\begin{proof}
$$e_l=e_l*e_r=e_r$$
\end{proof}
\end{thm}
\begin{cnsq}
Если нейтральный элемент существует, то он единственный.
\end{cnsq}
\begin{dfn}
Моноид - полугруппа с нейтральным элементом ИЛИ

Моноид - это элементы многообразия, которые определяются равенствами
$$
\begin{cases}
x*(y*z)=(x*y)*z\\
x*e=x\\
e*x=x
\end{cases}$$
\end{dfn}
\begin{exm}
Примеры моноидов:

$(\omega,+,0)$, $(\omega,\cdot,1)$, $(\omega,max,0)$

$A^A$ - множество одноместных функций из $A$ в $A$
$h=f\circ g$, если $h(a)=g(f(a))$ для любого $a\in A$

Доказать что $(A^A,\circ)$ - моноид
\begin{proof}
$e(a)=a$ для всех $a$, тогда
\begin{equation*}
\begin{rcases}
(e\circ f)(a) &= f(e(a))= f(a) \\
(f\circ e)(a) &= e(f(a))= f(a) 
\end{rcases}
e\circ f=f\circ e=f
\end{equation*}
$e$ - нейтральный элемент

$$((f\circ g)h)(a)=h(f\circ g)(a)=h(g(f(a)))$$
$$(f(g\circ h))(a)=(g\circ h)(f(a))=h(g(f(a)))$$
$$((f\circ g)h)(a)=(f(g\circ h))(a)$$
Выполняется ассоциативность, соответственно $(A^A,\circ,e)$ - моноид

\end{proof}
\end{exm}
\begin{dfn}
Свободный моноид - моноид, элементами которого являются конечные последовательности (строки) элементов носителя моноида. Свободный моноид на множестве $A\neq \emptyset$ это $\mathcal{A}=(A^*;\&,\varepsilon)$, $A^*$ - множество всех слов в алфавите $A$, $\&$ - конкатенация, $\varepsilon$ - пустое слово.
\end{dfn}
\begin{thm}
Любой моноид, порождённый элементами множества, на котором есть свободный моноид, является гомоморфным образом этого моноида
\begin{proof}
Пусть $A\neq \emptyset$, $\mathcal{A}=(A^*;\&)$,\\ $\mathcal{B}=(\left\{t^{\mathcal{B}}(a_1,...,a_n): a_1,...,a_n\in A\right\};*)$ и $h:\mathcal{A}\rightarrow \mathcal{B}$ - Гомоморфизм
$$h(a_1...a_n)=(a_1,...,a_n)^{\mathcal{B}}$$
$$h(\varepsilon)=e^{\mathcal{B}}$$
Надо доказать свойство гомоморфизма:
$$h(u\&v)=h(u)*h(v)$$
Пусть $u=a_1...a_n$, $v={a'}_1...{a'}_n$, тогда
$$h(u\&v)=h(uv)=h(a_1...a_n{a'}_1...{a'}_n)=(a_1...a_n{a'}_1...{a'}_n)^{\mathcal{B}}$$
\begin{multline*}
h(u)*h(v)=h(a_1...a_n)*h({a'}_1...{a'}_n)=\\
(a_1...a_n)^{\mathcal{B}}*({a'}_1...{a'}_n)^{\mathcal{B}}=(a_1...a_n{a'}_1...{a'}_n)^{\mathcal{B}}
\end{multline*}
Из этого следует что $h(u\&v)=h(u)*h(v)$
\end{proof}
\end{thm}
\begin{exm}
Примеры свободных моноидов и их гомоморфных образов:

Пусть дан алфавит $A=\{1\}$, который образует $A^*=\{\varepsilon,1,11,...\}$ и моноид $\mathcal{A}=(A^*;\&,\varepsilon)$, тогда
\begin{enumerate}
\item $mathcal{B}=({1};\cdot,1)$, порождённый элементами $A$ является гомоморфным образом $\mathcal{A}$, $h:A\rightarrow B$, $h(1...1)=1$
\item $mathcal{C}=(\omega;+,0)$, порождённый элементами $A$(натуральные числа можно получить сложением единицы) является гомоморфным образом $\mathcal{A}$, $h:A\rightarrow B$, $h(\underbrace{1...1}_n)=n$
\end{enumerate}
\end{exm}

\begin{dfn}

Циклический моноид - моноид порождённый одним элементом. $<a>$ - циклический моноид, порождённый элементом $a$.

$e,a,a^1,a^2,a^3,...$ - элементы моноида $<a>$

\begin{enumerate}
\item $a^i\neq a^j$ при $i\neq j$

$h:<a>\rightarrow ({\left\{a\right\}}^*;\&)$, $h(a^i)=i$ - изоморфизм.
\item $a^i=a^j$ при $i\neq j$
$$k=i+(k-i)=i+y(j-i)+r$$
$$r=(k-i)mod(j-i)$$
$$r<j-i$$
тогда
\begin{multline*}
a^k=a^i\underbrace{a^{j-i}...a^{j-i}}_{y}a^r=\\
(a^ia^{j-i})\underbrace{a^{j-i}...a^{j-i}}_{y-1}a^r\stackrel{(a^ia^{j-i}=a^{i+j-i}=a^j=a^i)}{=}a^i\underbrace{a^{j-i}...a^{j-i}}_{y-1}a^r=\\
a^ia^r=a^{i+r} (r<j-i; i+r<j)
\end{multline*}
\end{enumerate}
\end{dfn} %% к чему весь этот список?

\begin{exm}\label{cyclical-exm}
Пример циклическокококого моноида:
$<a>=(\{e,a,...\};*)$

Таблица умножения $(*)$ -
\begin{table}[h]
\centering
\renewcommand*{\arraystretch}{1.4}
\begin{tabular}{|l|l|l|l|}
\hline
  & $e$ & $a$ & $a^2$ \\ \hline
$e$ & $a$ & $a$ & $a^2$ \\ \hline
$a$ & $a$ & $a^2$ & $a$ \\ \hline
$a^2$ & $a^2$ & $a$ & $a^2$ \\
\hline
\end{tabular}
\end{table}
\end{exm}
\begin{thm}
Если $j$ - наименьшее число такое что $a^i=a^j$ для какого-то $i<j$, то $<a>$ содержит ровно $j$ элементов
\begin{proof}
$$\underbrace{e,a^1,...,a^{j-1}}_\text{нет равных},\underbrace{a^j=a^i,a^{j+1}=a^{i+1},...}_\text{повоторяющиеся}$$
если $j$ - номер наименьшего повтора, тогда
$$a^x*a^y=
\begin{cases}
	a^{x+y},& \text{если } x+y<j\\
	a^{i+(x+y-i)mod(j-i)},& \text{если } x+y\geq i
\end{cases}
$$
\begin{align*}
x+y&=k, & k&=i+(k-i\cdot z+r\\
& & r&=(k-i)mod(j-i)\\
& & a^k&=a^{i+z}
\end{align*}
$$a^{x+y}=a^k=a^{i+(x+y-i)mod(j-i)}$$

\end{proof}
\end{thm}

\begin{dfn}
Идемпотент - элемент моноида $a$, такой что $a^2=a$
\end{dfn}

\begin{exm}
Примеры идемпотентов:
$(\omega;+)$ - $0$
\end{exm}

\begin{dfn}
Моноид типа $(i,j-i)$ - моноид с элементами $$???$$
\end{dfn}

\begin{thm}
В моноиде типа $(i,j-i)$, где $i>0$ существует идемпотент $b\neq e$
\begin{proof}

\end{proof}
\end{thm}

\begin{dfn}
$b_l$ - левый обратный для элемента $a$, если $b_l*a=e$,
$b_r$ - правый обратный для элемента $a$, если $a*b_l=e$,
$b$ - обратный для элемента $a$, если $b*a=a*b=e$
\end{dfn}
\begin{exm}
Пример чего-то:
Доказать что множество функций этого вида замкнуты относительно композиции:
$$f(x)=
\begin{cases}
ax & \text{при } x<b\\
ab & \text{при } x\geq b
\end{cases}
$$
\begin{tikzpicture}
% horizontal axis
\draw[->] (0,0) -- (6,0) node[anchor=north] {$x$};
% vertical axis
\draw[->] (0,0) -- (0,5) node[anchor=east] {$y$};

% labels
\draw	(0,0) node[anchor=north] {0}
		(1.8,0) node[anchor=north] {b}
		(4,0) node[anchor=north] {1}
		(0,4) node[anchor=east] {1};
% graph
\draw[thick] (0,0) -- (1.8,4) --(3,3) -- (6,4);

% dotted lines
\draw[dotted] (1.8,0) -- (1.8,5);
\draw[dotted] (4,0) -- (4,5);
\draw[dotted] (0,4) -- (6,4);
\end{tikzpicture}
\begin{proof}

\end{proof}

\end{exm}

\begin{exm}
Пример изоморфизма:
Доказать
$$(P(A\cup B);\cup,\cap)\cong (P(A);\cup,\cap)\times (P(B);\cup,\cap)$$
где $P(A)$ - множество всех подмножеств множества $A$
\begin{proof}
Надо доказать
$$h(x_1\cup x_2)=h(x_1)\cup h(x_2)$$
$$h(x_1\cap x_2)=h(x_1)\cap h(x_2)$$
и $h$ - биекция

По сути функция $h$ должна выдавать пару, первая часть которой состоит из элементов $A$, вторая из $B$
\end{proof}
\end{exm}
\begin{exm}
Пример полугруппы: является ли $(\omega,\NOD())$ полугруппой
\begin{proof}
Предположим что является, надо доказать
$$\NOD(\NOD(x,y),z)=\NOD(x,\NOD(y,z))$$
\begin{enumerate}
\item $\Rightarrow$
Пусть $d: d|\NOD(x,y), d|z$

Надо доказать $d|\NOD(y,z)$, $d|x$

$$d|\NOD(x,y)\Rightarrow d|x$$
$$d|\NOD(x,y)\Rightarrow d|y$$
$$d|x,d|y\Rightarrow d|\NOD(y,z)$$
\item $\Leftarrow$ также
\end{enumerate}
\end{proof}
\end{exm}
\begin{exm}
Построить все моноиды из двух элементов $\{e,x\}$

$$A_1=(\{e,x\};*_1), A_2=(\{e,x\};*_2)$$

\begin{table}[h]
\centering
\caption*{Таблица умножения $(*_1)$}
\renewcommand*{\arraystretch}{1.4}
\begin{tabular}{|l|l|l|}
\hline
  & $e$ & $x$  \\ \hline
$e$ & $e$ & $x$  \\ \hline
$x$ & $x$ & $e$ \\ 
\hline
\end{tabular}
\end{table}

\begin{table}[h]
\centering
\caption*{Таблица умножения $(*_2)$}
\renewcommand*{\arraystretch}{1.4}
\begin{tabular}{|l|l|l|}
\hline
  & $e$ & $x$  \\ \hline
$e$ & $e$ & $x$  \\ \hline
$x$ & $x$ & $x$ \\ 
\hline
\end{tabular}
\end{table}

Доказать их ассоциативность: $a*(b*c)=(a*b)*c$
\begin{enumerate}
\item $a=e$
$$e*(b*c)=b*c=(e*b)*c$$
\item $b=e$ также
\item $c=e$ также
\item $a=b=c=x$
$$x*(x*x)=x*e=e*x=(x*x)*x$$
\end{enumerate}
Все остальные моноиды или изоморфны или тривиальны
\end{exm}

\begin{thm}
Если в конечном моноиде каждый элемент имеет левый обратный, то существует правый обратный
\begin{proof}
Предположим обратное: Если в конечном моноиде каждый элемент имеет левый обратный, то хотя бы для одного не существует правый обратный: $ab_r\neq e$ для всех $b_r$

НЕ ДОКАЗАНО
\end{proof}
\end{thm}

\begin{dfn}
Сократимый слева (справа) - такой элемент моноида, что из $ax=ay$ ($xa=ya$) следует $x=y$ 
\end{dfn}
\begin{exm}
$(\mathbb{Z},+,0)$, $x+a=y+a\Rightarrow x=y$
\end{exm}
\begin{thm}
Неединичные идемпотенты несократимы
\begin{proof}
$a\cdot a=a=e\cdot a$ но $a\neq e$, соответственно $a$ несократим справа,
$a\cdot a=a=a\cdot e$ но $a\neq e$, соответственно $a$ несократим слева

$a$ несократим
\end{proof}
\end{thm}
\begin{thm}
Все обратимые слева(справа) элементы сократимы слева(справа)
\begin{proof}
Пусть $a$ - обратимый слева, тогда
$ax=ay\Rightarrow b_lax=b_lay\Rightarrow ex=ey\Rightarrow x=y$, следовательно $a$ - сократимый слева
\end{proof}
\end{thm}
\begin{exm}
$(\mathbb{Z}^+,\cdot,1)$, обратимый только 1, сократимы все. (Какой к половым органам это пример?)
\end{exm}
\end{document}
